<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="theme-color" content="#162447">
    <title>Who won the Amstel Gold Race? Human error in photo-finishes - Tom Lynch</title>
    <link rel="icon" href="/favicon.png" type="image/png">
    <link rel="stylesheet" href="/css/foundation.css">
    <link rel="stylesheet" href="/css/fa_icons.css">
    <link rel="stylesheet" href="/css/prism-okaidia.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
   
    <meta property="og:title" content="Who won the Amstel Gold Race? Human error in photo-finishes">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Investigating the photo-finish of last Sunday's Amstel Gold Race. With millimeters separating the two riders does the photo-finish camera tell the truth?">
    <meta property="og:image" content="https://tglyn.ch/blog/images/amstel_side_shot.png">
    <meta property="og:url" content="https://tglyn.ch/blog/amstel_gold/">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@lynchyeatspizza">
    <meta name="twitter:title" content="Who won the Amstel Gold Race? Human error in photo-finishes">
    <meta name="twitter:description" content="Investigating the photo-finish of last Sunday's Amstel Gold Race. With millimeters separating the two riders does the photo-finish camera tell the truth?">
    <meta name="twitter:image" content="https://tglyn.ch/blog/images/amstel_side_shot.png">
    
    

    

  </head>
  <body>
    
<div class="menu">
	<ul>
		
		
			<li><a href="/">Home</a></li>
		
			<li><a href="/about/">About</a></li>
		
			<li><a href="/blog/">Blog</a></li>
		
			<li><a href="/research/">Research</a></li>
		
			<li><a href="/subscribe/">Subscribe</a></li>
		
			<li><a href="/contact/">Contact</a></li>
		
	</ul>
</div>


<article>
<h1 class="posttitle">Who won the Amstel Gold Race? Human error in photo-finishes</h1>
<author>
    <a href="/about">Tom Lynch</a>
</author>
<div class="date">
    <time>28 Apr 2021</time>
</div>
<p>Watching the Amstel Gold Race unfold here in Australia was an effort, as the clock ticked past 1am with still 13km to go. However, when it came to the final kilometers, staying awake was easy, the finale was thrilling and oh-so-close. A breakaway of three, Wout van Aert (in yellow), Tom Pidcock (black) and Max Schachmann (white) started playing cat and mouse to be in the best position before the final sprint as the peloton closed in behind them. Catch the last couple of kilometers here:</p>
<div style="position: relative;
              width: 100%;
              height: 0;
              padding-bottom: 56.25%; margin-bottom: 1rem;">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/me9bDGCXjWE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;" allowfullscreen=""></iframe>
              </div>
<p>Following the end of the race, the broadcasters spent minutes trying to determine the winner and it wasn't until 8 and a half minutes after the race ended they showed the following (quite unprofessional amirite):</p>
<div style="height: 0px; position: relative; padding-bottom: 56.250%;">
                <iframe src="https://streamable.com/e/sr4o5j" frameborder="0" allowfullscreen="" style="
                height: 100%; 
                width: 100%;
                position: absolute;"></iframe>
              </div>
<p>Did the race organiser receive the winner piccy via mms? And what about the other organisers in the background also looking at a phone?</p>
<p><img src="https://i.imgur.com/T0GcEgS.gif" alt="GIF showing race organiser surprised at the camera" title="GIF showing race organiser surprised at the camera" loading="lazy"></p>
<p>The unofficial announcement, the 'provisional' results, the long wait and the warped photo-finish photo all gave the win to van Aert...</p>
<p><img src="../images/amstel_warped_photo_finish.jpg" alt="Warped photo of the photo-finish" title="Warped photo of the photo-finish" loading="lazy"></p>
<p>But looking at the slow-mo shots it looked like Pidcock might have won it:</p>
<p><img src="../images/amstel_side_shot.png" alt="Side on photo of the finish line" title="Side on photo of the finish line" loading="lazy"></p>
<p>Is there something more going on here?</p>
<h1>How photo-finish cameras work</h1>
<p>Firstly, the photo-finish is not like a regular photo where the whole image is captured at a single moment in time. Rather, it is taken over a period of time, similar to a video. The camera is mounted perpendicular to the finish line (at a high angle to decrease the chance of a front wheel blocking another) like so:</p>
<p><img src="../images/amstel_photofinish_camera_position.png" alt="Photo finish camera position" title="Photo finish camera position" loading="lazy"></p>
<p>The camera takes up to 3500 photos per second of a single pixel wide slot, with a resolution of 2048 pixels, resulting in each photo being 1x2048. Each of these photos are then lined up in order, resulting in the photo-finish photo which looks similar to a real photo but also distinctly different.</p>
<p>This is also the cause for the blurred looking background (like in the next image) - as it is a single point that is repeated over and over.</p>
<p><img src="../images/amstel_blurred_photo.png" alt="Photo finish blurred background" title="Photo finish blurred background" loading="lazy"></p>
<p>If you're still a bit confused, take a look at this video: </p><div style="position: relative;
              width: 100%;
              height: 0;
              padding-bottom: 56.25%; margin-bottom: 1rem;">
<iframe width="560" height="315" src="https://www.youtube.com/embed/Ut0nKdLCAEo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;" allowfullscreen=""></iframe>
</div><p></p>
<h1>And why did I need to learn that?</h1>
<p>Well, what I noticed was that the background in the photo-finish photo is yellow, green and white. Yet in the side-on video of the finish the barrier that lines up with the finish line is red. Why is that?</p>
<p><img src="../images/amstel_barrier_alignment.png" alt="Barrier alignment from side on camera" title="Barrier alignment from side on camera" loading="lazy"></p>
<p><img src="../images/amstel_barrier_alignment_zoom.png" alt="Barrier alignment from side on camera zoomed in" title="Barrier alignment from side on camera zoomed in" loading="lazy"></p>
<p>So now the next challenge was to work out where the photo finish camera was actually aligned to. And I saw yellow, green and white and quickly tweeted a couple of times seeing if my thoughts made sense:</p>
<p><img src="../images/amstel_first_tweet.png" alt="First tweet about barrier positioning" title="First tweet about barrier positioning" loading="lazy"></p>
<p>And ended up getting a shout-out on the <a href="https://www.youtube.com/watch?v=-Gj8UNw5TBE&amp;t=235s">GCN Racing News Show</a> the following day.</p>
<p>Now I must note, at that point in time I'd misread some UCI docs and thought that each white band was 74cm wide, but in fact, each band is 34cm wide, with a 4cm black line in the middle making a total of 72cm.</p>
<p>But it took this tweet from Inoes followed by <a href="https://twitter.com/Tompid/status/1384454320330919939">Tom Pidcock's reply</a> to really get me invested in researching this further:</p>
<p><img src="../images/amstel_pidcock_where_is_the_line.png" alt="Tom Pidcock tweeting 'But where is the finish line?'" title="Tom Pidcock tweeting 'But where is the finish line?'" loading="lazy"></p>
<h1>Let's find the finish line for Pidcock</h1>
<p>So I replied with what I knew and was quickly corrected by <a href="https://twitter.com/laflammerouge16">@LaFlammeRouge16</a></p>
<p><img src="../images/amstel_reply_to_tom.png" alt="Me being corrected by La Flamme Rouge" title="Me being corrected by La Flamme Rouge" loading="lazy"></p>
<p>and from there La Flamme Rouge and I began working together to solve this.</p>
<p>After searching through many pictures we found this shot which included a better picture of the banner:</p>
<p><img src="../images/amstel_barrier_bike_throw.png" alt="Better picture of the finishing barrier" title="Better picture of the finishing barrier" loading="lazy"></p>
<p><img src="../images/amstel_barrier_closer.png" alt="Closer picture of the finishing barrier" title="Closer picture of the finishing barrier" loading="lazy"></p>
<p>Which allowed us to work out which letters could possibly form the two green lines through the white section. Looking up Amstel Bier Radler we can find their little slogan, <strong>Met trots voor u gebrouwen - Geen 18, geen alcohol</strong>. Below the green lemon leaves are the words <strong>geen alcohol</strong> and within these words, the only letters that can be cut with two intersections are the letters <strong>c</strong> and <strong>o</strong>.</p>
<p>From here I zoomed in and drew some vertical lines onto the barrier through the c and the o in the most likely positions.</p>
<p><img src="../images/amstel_vert_lines.png" alt="Drawing lines barrier" title="Drawing lines on the barrier" loading="lazy"></p>
<p>With the <strong>o</strong> seeming the most obvious as the dark bit on the leaf matches the top of the photo-finish blur:</p>
<p><img src="../images/amstel_vert_lines_circled.png" alt="Drawing lines barrier" title="Drawing lines on the barrier" loading="lazy"></p>
<p>So I played around a bit in photoshop to see if it matches (flick through to get the idea):</p>
<div style="height: 0px; position: relative; padding-bottom: 56.250%;">
                <iframe src="https://streamable.com/e/3zfhz7" frameborder="0" allowfullscreen="" style="
                height: 100%; 
                width: 100%;
                position: absolute;"></iframe>
              </div>
<p>And it does! (Throughout the discussions with La Flamme Rouge I'd also tried <a href="https://twitter.com/lynchyeatspizza/status/1384548933259591685">stretching the Radler logo</a> many times with no success to matching it, but it seems the printing of the logo on the barrier has resulted in it being different enough for that to not work.)</p>
<p>Matching this all back up to the side video of the finish (I have used the end of the women's race earlier in the day (won by Marianne Vos) as the lighting is better to determine the dark lemon leaves on the Radler sign), we can draw a line where the photo-finish camera is pointing, and then extrapolate to determine where on the white band the photo-finish line was focussed.</p>
<p><img src="../images/amstel_approx_line.png" alt="Approximate photo-finish line" title="Approximate photo-finish line" loading="lazy"></p>
<p><img src="../images/amstel_approx_line_extrapolated.png" alt="Approximate photo-finish line extrapolated" title="Approximate photo-finish line extrapolated" loading="lazy"></p>
<p>Please note that due to the camber of the road (the center is higher than the edges to allow drainage) the straight leading blue line does not perfectly follow the front of the white band.</p>
<p>Using the lines we can then measure the pixels and make some calculations:</p>
<div style="height: 0px; position: relative; padding-bottom: 56.250%;">
                <iframe src="https://streamable.com/e/mkbk03" frameborder="0" allowfullscreen="" style="
                height: 100%; 
                width: 100%;
                position: absolute;"></iframe>
              </div>
<p>The first measurement was 7 pixels of a total of 33 pixels, resulting in the photo-finish being focussed at 7/33 = 0.2121 or 21.21% of the white band. The second measurement was 29 pixels of a total of 139 pixels, so 29/139 = 0.2086 or 20.86% of the white band, so let's just round both to 0.21 or 21%.</p>
<p>The white band is 34cm wide, so 21% of that is 34*0.21 = 7.14cm. And 34-7.14 = 26.86cm.</p>
<p><img src="../images/amstel_estimates.png" alt="Estimated distances based on the photo-finish line extrapolated" title="Estimated distances based on the photo-finish line extrapolated" loading="lazy"></p>
<p>So all in all, I'm estimating the photo-finish was focussed on a point approximately 26.86cm too early.</p>
<h1>So who won?</h1>
<p><strong>Who knows</strong>. At this stage, I haven't yet been able to work it out. We know the photo-finish was set up too early, and given the photo-finish is designed to be the most precise way to determine a winner, having it in the wrong spot means we may never know if Tom Pidcock's extra speed would have allowed him to make up the small distance in the final 26.86cm.</p>
<p>But, I do have a few further ideas on ways to measure this so if you've read this far might as well read on to see if the next paragraph triggers any ideas to solve this lil mystery.</p>
<h1>Further research required and how you can help</h1>
<p>I have a few thoughts on ways we could determine if Tom Pidcock could have overcome Wout van Aert in the finale. But first, I have managed to obtain the original photo-finish images from the race organisers which haven't been released anywhere else.</p>
<p>Here are the three images I received in the quality they sent them (right click and select 'Open image in new tab' to see them full size):</p>
<p><img src="../images/amstel_IMG-20210419-WA0004.jpg" alt="Photo-finish picture 1" title="Photo-finish picture 1" loading="lazy"></p>
<p><img src="../images/amstel_Finishphoto_AGR21_overview.png" alt="Photo-finish picture 2" title="Photo-finish picture 2" loading="lazy"></p>
<p><img src="../images/amstel_Finishphoto_AGR21.png" alt="Photo-finish picture 3" title="Photo-finish picture 3" loading="lazy"></p>
<p>So perhaps with these better resolution photos we could try to determine if Tom Pidcock was ahead ~27cm later. I have a few possible ways to go about this (please hit me up on Twitter (<a href="https://twitter.com/lynchyeatspizza">@lynchyeatspizza</a>) if you're exploring any of these options):</p>
<ol>
<li>
<p>Measure the width of the wheel in pixels, see if Tom's is shorter than Wout's which means he has more speed.</p>
<ul>
<li>This may result in incorrect conclusions due to the bike throw for the line which results in a speed increase of the bike compared to the rider. Potentially the first half of the wheel may be faster than the second half, resulting in the measurements being off.</li>
</ul>
</li>
<li>
<p>Look at the pattern of the spokes to try to determine the distance traveled since the finish line. The curve is an artefact of the photo-finish line not capturing a moment in time, but a location for a period of time. In the close-up image, you can see the spokes of both riders. The curve of the spokes should mean we can determine the distance the rider has traveled after the photo-finish camera.</p>
</li>
<li>
<p>Both Wout van Aert and Tom Pidcock were likely running 25mm tyres on their 700c wheels resulting in a diameter of around 672mm, or 67.2cm. So 26.86/67.2 = 0.3997 ≈ 0.4, so the photo-finish was approximately 40% of a wheel length too early - So measure when each rider's wheel reaches 40% of the way through. At 40% of the way across a circle, the length of the chord is 96% of the diameter (so just 2% difference at the bottom and 2% difference at the top).</p>
<ul>
<li>I think this would allow us to work out the actual winner if it was possible to determine accurately where this 40% occurs (please check my maths and confirm 40% first).</li>
</ul>
</li>
</ol>
<p><img src="../images/amstel_secant.png" alt="Secant of a bike wheel" title="Secant of a bike wheel" loading="lazy"></p>
<ol start="4">
<li>We would also need to work out what the times say in the bottom of the second photo-finish picture, so we can use that to determine how far Pidcock was behind when crossing the photo-finish line.</li>
</ol>
<h1>Recommendations</h1>
<h3>To race organisers</h3>
<ul>
<li>Ensure the company responsible for the timing sets the camera in the right spot (lol that this needs to be stated)</li>
<li>Ensure you have a way to distribute the photo-finish photo. Horse racing requires photo finishes to be provided to the broadcaster within 60 seconds. Cycling should be the same</li>
</ul>
<h3>To the UCI</h3>
<ul>
<li>If you're going to have rules in place for organisers regarding photo-finishes (given they determine the winner of the race), then ensure they are abided by. <a href="https://www.uci.org/docs/default-source/publications/uci-guide-orga-2020-eng.pdf">UCI specs (page 227)</a> state there must be:
<ul>
<li><strong>two photo-finish cameras</strong>, one on each side of the finish</li>
<li>the camera must be able to take upwards of <strong>3500</strong> photos per second</li>
</ul>
</li>
</ul>
<p>Yet there was only <strong>one camera</strong> which took just <strong>2000</strong> photos per second.</p>
<ul>
<li>Change the requirements of the paint of the finish line to ensure that photo-finish camera operators have a set line to aim at. Suggestion would be to follow Athletics' example, by painting 2cm wide black spots along the edge of the white band, and aiming for that with the camera - ensuring the photo-finish is within 2cm's of the actual finish. Here's how it works in Athletics - see the black marks across the finish line:</li>
</ul>
<p><img src="../images/amstel_athletics.jpg" alt="Athletics photo-finish set up" title="Athletics photo-finish set up" loading="lazy"></p>
<h3>And to finish</h3>
<ul>
<li>If you’re going to employ tech with a resolution of <span style="color:#969696">1/3500 =</span> 0.0002857s, don’t set it up 0.016s off the mark - <strong>that's 56 times the resolution</strong></li>
</ul>
<p>(assuming riders are traveling at 60kph, the 26.86cm will take 0.016 seconds to travel)</p>
<p>(also it should have been 3500 photos per second but in this case it was just 2000)</p>
<h1>Finally</h1>
<ul>
<li>Thanks to La Flamme Rouge and all the other twitter users who chipped in</li>
<li>I'll keep an eye out on twitter if anyone else wants to get involved</li>
<li>I'm looking for a software engineering job, let me know if you're building something fun</li>
<li>Oh and hit up my socials or subscribe down below if you wanna stay up to date on it 😊</li>
</ul>
<p>EDIT: I now have a follow up post <a href="/blog/photo-finish_paint_problem/">here</a></p>


<div class="socials_list">
<a href="https://github.com/tomglynch" target="_blank" class="fa fa-github"></a>
<a href="https://twitter.com/lynchyeatspizza" target="_blank" class="fa fa-twitter"></a>
<a href="https://www.linkedin.com/in/tomglynch/" target="_blank" class="fa fa-linkedin"></a>
<a href="https://news.ycombinator.com/user?id=tomglynch" target="_blank" class="fa fa-y-combinator"></a>
<a href="/files/TomLynchResumeSinglePage.pdf" target="_blank" class="fa fa-file"></a>
<a href="/files/TomLynchResumeTwoPage.pdf" target="_blank" class="fa fa-file-text"></a>
</div>

<form name="subscribe" method="POST" data-netlify="true"> 
    <input name="email" type="email" class="form-input" placeholder="Email" required="">
    <input type="submit" value="Subscribe">
</form>
</article>

<h2>Related blogs</h2>







<ul class="postlist">

<li class="postlist">
    <h2 class="postlist">
        
        <a href="/blog/photo-finish_paint_problem/">It's not the photo-finish operators, it's the UCI rules on how the finish line is painted</a>
        
    </h2>
    <div class="date">
        <time>5 May 2021</time>
    </div>

    <div>
        Let's look at De Brabantse Pijl to see if the photo-finish there was off too - and then make some suggestions to the UCI to solve these problems.
    </div>
    <div>
        ^ similarity rating: <b>0.52448</b>
    </div>
</li>

<li class="postlist">
    <h2 class="postlist">
        
        <a href="/blog/spintel/">Hacking my ISP to get every customer's personal details</a>
        
    </h2>
    <div class="date">
        <time>1 Feb 2019</time>
    </div>

    <div>
        Logging in to Australian internet provider Spintel's online portal sent my security senses tingling... there's bound to be a security hole here.
    </div>
    <div>
        ^ similarity rating: <b>0.45161</b>
    </div>
</li>

<li class="postlist">
    <h2 class="postlist">
        
        <a href="/blog/uci_fix_the_line/">Finish Line Fiasco: UCI's Paint Job Needs a Refresh</a>
        
    </h2>
    <div class="date">
        <time>7 Mar 2023</time>
    </div>

    <div>
        UCI regulations are not keeping up with these close finishes. Caleb Ewen may have been robbed of a victory and we would know for sure if the UCI updated their finish line marking rules
    </div>
    <div>
        ^ similarity rating: <b>0.4476</b>
    </div>
</li>

</ul>


  
</body></html>